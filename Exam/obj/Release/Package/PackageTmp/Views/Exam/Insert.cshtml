
@model Exam.Models.ExamViewModel

@section Styles{
    <link href="~/Content/Theme/css/dataTables.jqueryui.css" rel="stylesheet" />
}
@section Scripts{
    <script src="~/Scripts/theme/jquery.dataTables.min.js"></script>
    @*<script src="~/assets/js/jquery.dataTables.min.js"></script>*@
    <script src="~/Scripts/theme/dataTables.jqueryui.js"></script>
    <script src="~/Scripts/custom/examInset.js"></script>
    <script src="~/assets/js/fileinput.js"></script>
}
<div class="col-md-12">
    @using (Html.BeginForm("Insert", "Exam", FormMethod.Post, new { enctype = "multipart/form-data", id = "appr_form" }))
    {
        <div class="panel panel-default panel-shadow" id="insert-ques" data-collapsed="0">
            <!-- to apply shadow add class "panel-shadow" -->
            <!-- panel head -->
            <div class="panel-heading">
                <div class="panel-title">Insert question</div>

                <div class="panel-options">
                    <a href="#sample-modal" data-toggle="modal" data-target="#sample-modal-dialog-3" class="bg"><i class="entypo-cog"></i></a>
                    <a href="#" data-rel="collapse"><i class="entypo-down-open"></i></a>
                </div>
            </div>

            <!-- panel body -->
            <div class="panel-body">
                <input type="hidden" name="ID" id="ID" value="0" />
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-3">
                            <label class="control-label" for="parentCategoryId">Parent category</label>
                            <select name="parentCategoryId" id="parentCategoryId" class="form-control">
                                @foreach (var item in (List<Tuple<int, string, int>>)ViewBag.parentCategories)
                                {
                                    <option value="@item.Item1">@item.Item2</option>
                                }
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label class="control-label" for="subCategoryId">Sub category</label>
                            <select name="subCategoryId" id="subCategoryId" class="form-control">
                                @foreach (var item in (List<Tuple<int, string, int>>)ViewBag.subCategories)
                                {
                                    <option value="@item.Item1">@item.Item2</option>
                                }
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label class="control-label" for="Status">Question status</label>
                            <select class="form-control" name="Status" id="Status">
                                <option value="1">Active</option>
                                <option value="0">Passive</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row marg">
                    <div class="form-group">
                        <div class="col-md-7">
                            <label class="control-label" for="QuestionText">Question text</label>
                            @Html.TextAreaFor(model => model.QuestionText, new { @class = "form-control  autogrow question", @rows = 4 })
                            @Html.ValidationMessageFor(model => model.QuestionText, "", new { @class = "text-danger" })
                        </div>
                        <div class="col-md-3 marg">
                            <div class="fileinput fileinput-new" data-provides="fileinput">
                                <input type="hidden" value="" name="...">
                                <div class="fileinput-new thumbnail" style="width: 100px; height: 80px;" data-trigger="fileinput">
                                    <img src="http://placehold.it/200x150" id="iq" alt="">
                                    <input type="hidden" name="QuestionImageUrl" id="QuestionImageUrl" />
                                </div>
                                <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 150px; max-height: 80px; line-height: 6px;"></div>
                                <div>
                                    <span class="btn btn-white btn-file">
                                        <span class="fileinput-new">Select image</span>
                                        <span class="fileinput-exists">Change</span>
                                        <input type="file" name="QuestionImage" id="QuestionImage" accept="image/*">
                                    </span>
                                    <a href="#" id="rmv" class="btn btn-orange fileinput-exists" data-dismiss="fileinput">Remove</a>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <hr />
                <div class="row marg">
                    <div class="form-group">
                        <div class="col-md-1">Variant</div>
                        <div class="col-md-6">Variant text</div>
                        <div class="col-md-3">Variant image</div>
                    </div>
                </div>
                <hr />
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-1"><label>A <input type="radio" name="Variants" value="A" checked /></label> </div>
                        <div class="col-md-6">
                            <textarea class="form-control autogrow variant" name="AnswerTextA" id="AnswerTextA" rows="3" placeholder="Variant A text"></textarea>
                        </div>
                        <div class="marg">
                            <div class="fileinput fileinput-new" data-provides="fileinput">
                                <input type="hidden" value="" name="...">
                                <div class="fileinput-new thumbnail" style="width: 100px; height: 80px;" data-trigger="fileinput">
                                    <img src="http://placehold.it/200x150" id="ia" alt="">
                                    <input type="hidden" name="AnswerImageUrlA" id="AnswerImageUrlA" />
                                </div>
                                <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 150px; max-height: 80px; line-height: 6px;"></div>
                                <div>
                                    <span class="btn btn-white btn-file">
                                        <span class="fileinput-new">Select image</span>
                                        <span class="fileinput-exists">Change</span>
                                        <input type="file" class="vti" name="AnswerImageA" id="AnswerImageUrlA" accept="image/*">
                                    </span>
                                    <a href="#" class="btn btn-orange fileinput-exists rmv-v" data-dismiss="fileinput">Remove</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-1"><label>B <input type="radio" name="Variants" value="B" /></label> </div>
                        <div class="col-md-6">
                            <textarea class="form-control autogrow variant" name="AnswerTextB" id="AnswerTextB" rows="3" placeholder="Variant B text"></textarea>
                        </div>
                        <div class="marg">
                            <div class="fileinput fileinput-new" data-provides="fileinput">
                                <input type="hidden" value="" name="...">
                                <div class="fileinput-new thumbnail" style="width: 100px; height: 80px;" data-trigger="fileinput">
                                    <img src="http://placehold.it/200x150" id="ib" alt="">
                                    <input type="hidden" name="AnswerImageUrlB" id="AnswerImageUrlB">
                                </div>
                                <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 150px; max-height: 80px; line-height: 6px;"></div>
                                <div>
                                    <span class="btn btn-white btn-file">
                                        <span class="fileinput-new">Select image</span>
                                        <span class="fileinput-exists">Change</span>
                                        <input type="file" class="vti" name="AnswerImageB" id="AnswerImageB" accept="image/*">
                                    </span>
                                    <a href="#" class="btn btn-orange fileinput-exists rmv-v" data-dismiss="fileinput">Remove</a>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-1"><label>C <input type="radio" name="Variants" value="C" /></label> </div>
                        <div class="col-md-6">
                            <textarea class="form-control autogrow variant" name="AnswerTextC" id="AnswerTextC" rows="3" placeholder="Variant C text"></textarea>
                        </div>
                        <div class="marg">
                            <div class="fileinput fileinput-new" data-provides="fileinput">
                                <input type="hidden" value="" name="...">
                                <div class="fileinput-new thumbnail" style="width: 100px; height: 80px;" data-trigger="fileinput">
                                    <img src="http://placehold.it/200x150" id="ic" alt="">
                                    <input type="hidden" name="AnswerImageUrlC" id="AnswerImageUrlC">
                                </div>
                                <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 150px; max-height: 80px; line-height: 6px;"></div>
                                <div>
                                    <span class="btn btn-white btn-file">
                                        <span class="fileinput-new">Select image</span>
                                        <span class="fileinput-exists">Change</span>
                                        <input type="file" class="vti" name="AnswerImageC" id="AnswerImageC" accept="image/*">
                                    </span>
                                    <a href="#" class="btn btn-orange fileinput-exists rmv-v" data-dismiss="fileinput">Remove</a>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-1"><label>D <input type="radio" name="Variants" value="D" /></label> </div>
                        <div class="col-md-6">
                            <textarea class="form-control autogrow variant" name="AnswerTextD" id="AnswerTextD" rows="3" placeholder="Variant D text"></textarea>
                        </div>
                        <div class="marg">
                            <div class="fileinput fileinput-new" data-provides="fileinput">
                                <input type="hidden" value="" name="...">
                                <div class="fileinput-new thumbnail" style="width: 100px; height: 80px;" data-trigger="fileinput">
                                    <img src="http://placehold.it/200x150" id="id" alt="">
                                    <input type="hidden" name="AnswerImageUrlD" id="AnswerImageUrlD">
                                </div>
                                <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 150px; max-height: 80px; line-height: 6px;"></div>
                                <div>
                                    <span class="btn btn-white btn-file">
                                        <span class="fileinput-new">Select image</span>
                                        <span class="fileinput-exists">Change</span>
                                        <input type="file" class="vti" name="AnswerImageD" id="AnswerImageD" accept="image/*">
                                    </span>
                                    <a href="#" class="btn btn-orange fileinput-exists rmv-v" data-dismiss="fileinput">Remove</a>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-1"><label>E <input type="radio" name="Variants" value="E" /></label> </div>
                        <div class="col-md-6">
                            <textarea class="form-control autogrow variant" name="AnswerTextE" id="AnswerTextE" rows="3" placeholder="Variant E text"></textarea>
                        </div>
                        <div class="marg">
                            <div class="fileinput fileinput-new" data-provides="fileinput">
                                <input type="hidden" value="" name="...">
                                <div class="fileinput-new thumbnail" style="width: 100px; height: 80px;" data-trigger="fileinput">
                                    <img src="http://placehold.it/200x150" id="ie" alt="">
                                    <input type="hidden" name="AnswerImageUrlE" id="AnswerImageUrlE">
                                </div>
                                <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 150px; max-height: 80px; line-height: 6px;"></div>
                                <div>
                                    <span class="btn btn-white btn-file">
                                        <span class="fileinput-new">Select image</span>
                                        <span class="fileinput-exists">Change</span>
                                        <input type="file" class="vti" name="AnswerImageE" id="AnswerImageE" accept="image/*">
                                    </span>
                                    <a href="#" class="btn btn-orange fileinput-exists rmv-v" data-dismiss="fileinput">Remove</a>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="panel-footer">
                <div class="row">
                    <div class="col-md-3">
                        <button type="submit" class="btn btn-success btn-icon" id="app-con">
                            Approve and continue
                            <i class="entypo-right"></i>
                        </button>
                    </div>
                    @* //todo  approve and close*@
                    @*<div class="col-md-3">
                            <a href="#" class="btn btn-info btn-icon" id="app-close">
                                Approve then close
                                <i class="entypo-cancel"></i>
                            </a>
                        </div>*@
                    <div class="col-md-3">
                        <a href="javascript:;" onclick="$('#preview').appendTo('body').modal('show')" class="btn btn-info btn-icon" id="btn_preview">
                            View question
                            <i class="entypo-eye"></i>
                        </a>
                    </div>
                </div>
            </div>

        </div>
    }
    @using (Html.BeginForm("ApproveQuestions", "Exam", FormMethod.Post))
    {
        <div class="panel panel-default panel-shadow" data-collapsed="0">
            <!-- to apply shadow add class "panel-shadow" -->
            <!-- panel head -->
            <div class="panel-heading">
                <div class="panel-title">Questions</div>

                <div class="panel-options">
                    <a href="#" data-rel="collapse"><i class="entypo-down-open"></i></a>
                </div>
            </div>

            <!-- panel body -->
            <div class="panel-body">
                <div id="ques_container">
                    @Html.Partial("_QuestionTable");
                </div>
            </div>

            <!-- panel footer -->
            <div class="panel-footer">
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-2">
                            <a href="@Url.Action("_ApproveQuestions","Exam")" id="appr_btn" class="btn btn-success icon btn-icon">
                                <i class="entypo-check"></i>
                                Approve
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
<div class="modal fade" id="preview">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <div class="row">
                    <div class="" id="ques_text" style="font-size:xx-large; font-weight:bold;">
                    </div>
                    <br />
                    <img src="#" alt="" width="100px" height="100px" id="qi" style="margin-left:30px;" />
                </div>

                <div class="row">
                    <div id="Afield" style="font-size:large;">
                        <label style="font-weight:bold;"><input type="radio" name="prewVaraiant" /> A)</label>
                    </div>
                    <br />
                    <img src="#" id="va" width="100px" height="100px" alt="" style="margin-left:30px;" />
                </div>

                <div class="row">
                    <div id="Bfield" style="font-size:large;">
                        <label style="font-weight:bold;"><input type="radio" name="prewVaraiant" /> B)</label>
                    </div>
                    <br />
                    <img src="#" id="vb" width="100px" height="100px" alt="" style="margin-left:30px;" />
                </div>

                <div class="row">
                    <div id="Cfield" style="font-size:large;">
                        <label style="font-weight:bold;"><input type="radio" name="prewVaraiant" /> C)</label>
                    </div>
                    <br />
                    <img src="#" id="vc" width="100px" height="100px" alt="" style="margin-left:30px;" />
                </div>

                <div class="row">
                    <div id="Dfield" style="font-size:large;">
                        <label style="font-weight:bold;"><input type="radio" name="prewVaraiant" /> D)</label>
                    </div>
                    <br />
                    <img src="#" id="vd" width="100px" height="100px" alt="" style="margin-left:30px;" />
                </div>

                <div class="row">
                    <div id="Efield" style="font-size:large;">
                        <label style="font-weight:bold;"><input type="radio" name="prewVaraiant" /> E)</label>
                    </div>
                    <br />
                    <img src="#" id="ve" width="100px" height="100px" alt="" style="margin-left:30px;" />
                </div>
            </div>
        </div>
    </div>
</div>